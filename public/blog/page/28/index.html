
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Yet Another Kinopyo Blog</title>
	<meta name="author" content="Qihuan Piao">

	
	<meta name="description" content="サイトの引越しなどであるURLから別のURLへ転送する場合の話です。例えば JavaScript を利用して転送したり、HTMLの機能で転送させたりするかもしれません。 しかしトップページでリダイレクトしてみても、別のページに直リンクしていた場合は旧ページが表示されることになります。 &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="http://feeds.feedburner.com/kinopyo" rel="alternate" title="Yet Another Kinopyo Blog" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>

<body>
	<header id="header" class="inner"><h1><a href="/">Yet Another Kinopyo Blog</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:kinopyo.com">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		<a class="twitter" href="http://twitter.com/fantasyday" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/kinopyo" title="GitHub">GitHub</a>
		
		
		
		
		
		<a class="rss" href="http://feeds.feedburner.com/kinopyo" title="RSS">RSS</a>
		
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:kinopyo.com">
	</form>
</nav>

</header>
	<div id="content" class="inner">


    <article class="post">
	<h1 class="title"><a href="/blog/apache-redirect-memo">ApacheサーバRedirectメモ、別のサイトに転送</a></h1>
	<div class="entry-content">
		<div class="section">
<p>サイトの引越しなどであるURLから別のURLへ転送する場合の話です。例えば JavaScript を利用して転送したり、HTMLの機能で転送させたりするかもしれません。</p>
<br/>
<p>しかしトップページでリダイレクトしてみても、別のページに直リンクしていた場合は旧ページが表示されることになります。そのような時に、Apache では httpd.conf に下記の１行を追加することで、別のＵＲＬへ転送させる事が可能です。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Redirect / &lt;a href="http://www.yahoo.co.jp/" target="_blank">http://www.yahoo.co.jp/&lt;/a></span></code></pre></td></tr></table></div></figure>

<p>この例では Yahoo Japan へリダイレクトされますが、例えば <a href="http://www.example.com/base/" target="_blank">http://www.example.com/base/</a> にアクセスした場合でも <a href="http://www.yahoo.co.jp/base/" target="_blank">http://www.yahoo.co.jp/base/</a> へのリダイレクトが行われます。</p>
</div>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2009-11-29T00:00:00+09:00" pubdate data-updated="true">2009-11-29</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/nil/'>nil</a>


</div>
	
</div></article>


    <article class="post">
	<h1 class="title"><a href="/blog/jquery-convert-one-child-selectbox-to-label">jQueryでoptionが一つのSelectボックスをラベル表示</a></h1>
	<div class="entry-content">
		<div class="section">
<p>htmlにoptionが一つしかないselectboxがあるとします。</p>
<p>このようなselectを非表示にし、そのテキストラベルで表示させたいのもありですね。</p>
<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;select&gt;</span>
</span><span class='line'>    <span class="nt">&lt;option&gt;</span>1<span class="nt">&lt;/option&gt;</span>
</span><span class='line'><span class="nt">&lt;/select&gt;</span>
</span><span class='line'>{% endcodeblock %}
</span><span class='line'><span class="nt">&lt;br/&gt;</span>
</span><span class='line'><span class="nt">&lt;h4&gt;</span>jQuery文はこれ：<span class="nt">&lt;/h4&gt;</span>
</span><span class='line'>{% codeblock %}
</span><span class='line'>
</span><span class='line'>//:only-childフィルタで子要素が一つしかない要素を選択
</span><span class='line'>var $target = $(&quot;select :only-child&quot;);
</span><span class='line'>
</span><span class='line'>$.each($target, function(index, item) {
</span><span class='line'>
</span><span class='line'>  // spanのhtmlを構築
</span><span class='line'>  var span = &#39;<span class="nt">&lt;span&gt;</span>&#39; + $(this).text() + &#39;<span class="nt">&lt;/span&gt;</span>&#39;;
</span><span class='line'>
</span><span class='line'>  // thisはoptionを指しているため、そのparentのselect要素を非表示
</span><span class='line'>  // 構築したspanを挿入
</span><span class='line'>  $(this).parent().hide().after(span);
</span><span class='line'>
</span><span class='line'>});
</span><span class='line'>{% endcodeblock %}
</span><span class='line'><span class="nt">&lt;h4&gt;</span>さらにブランクの要素をフィルタ<span class="nt">&lt;/h4&gt;</span>
</span><span class='line'><span class="nt">&lt;p&gt;</span>selectボックスの先頭がblankのケースが結構あると思います。<span class="nt">&lt;/p&gt;</span>
</span><span class='line'><span class="nt">&lt;p&gt;</span>その場合はラベル表示させたくないです。<span class="nt">&lt;/p&gt;</span>
</span><span class='line'><span class="nt">&lt;p&gt;</span>なのでそれをフィルタするには、以下のようにfilter()を使います。<span class="nt">&lt;/p&gt;</span>
</span><span class='line'><span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&quot;brush:javascript&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>var $target = $(&quot;select :only-child&quot;).filter(function(index) {
</span><span class='line'>
</span><span class='line'>  return $.trim($(this).text()).length != 0;
</span><span class='line'>
</span><span class='line'>});
</span><span class='line'>
</span><span class='line'>{% endcodeblock %}
</span><span class='line'><span class="nt">&lt;br/&gt;</span>
</span><span class='line'><span class="nt">&lt;h4&gt;</span>$.trim()の1000倍速い方法でブランクを検出<span class="nt">&lt;/h4&gt;</span>
</span><span class='line'><span class="nt">&lt;p&gt;</span>jQueryにはblankを検出するメソッドがないため、上記のソースコードでは<span class="nt">&lt;/p&gt;</span>
</span><span class='line'><span class="nt">&lt;p&gt;</span>$.trim()を利用して判断しています。<span class="nt">&lt;/p&gt;</span>
</span><span class='line'><span class="nt">&lt;p&gt;</span>しかしこの$.trim()は遅いとの報告がありました。<span class="nt">&lt;/p&gt;</span>
</span><span class='line'><span class="nt">&lt;p&gt;</span>そこでblankのテキストを検出するためのメソッドも提供されました。<span class="nt">&lt;/p&gt;</span>
</span><span class='line'><span class="nt">&lt;p&gt;</span>$.trim()が2000msかかったものがこれだと0.5msになったようです。<span class="nt">&lt;/p&gt;</span>
</span><span class='line'><span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&quot;brush:javascript&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>blank: function( text ) {
</span><span class='line'>  return !text || !/\S/.test(text);
</span><span class='line'>}
</span></code></pre></td></tr></table></div></figure>
<p>興味のある方はこの記事を参照してください。英語のサイトです。</p>
<p><a href="http://zipalong.com/blog/?p=287" target="_blank">Zipalong Blog  &#187; Blog Archive   &#187; jQuery: x1000 faster test for blank strings (on large strings)</a></p>
</div>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2009-11-28T00:00:00+09:00" pubdate data-updated="true">2009-11-28</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/nil/'>nil</a>


</div>
	
</div></article>


    <article class="post">
	<h1 class="title"><a href="/blog/jquery-toggle-swtich-tips">jQueryのtoggle(switch)が大変便利、条件文5行のコードが1行に短縮！</a></h1>
	<div class="entry-content">
		<div class="section">
<p>toggle()の普通の使い方は多分皆さんご存知だと思います。</p>
<p>該当要素をクリックするたびに表示/非表示を切り替えます。</p>
<p><a href="http://f.hatena.ne.jp/kinopyo/20091128134759" class="hatena-fotolife" target="_blank"><img src="http://f.hatena.ne.jp/images/fotolife/k/kinopyo/20091128/20091128134759.gif" alt="f:id:kinopyo:20091128134759g:image:right" title="f:id:kinopyo:20091128134759g:image:right" class="hatena-fotolife hatena-image-right"></a></p>
<p>今日紹介するのはこのswitchパラメータ付のtoggleです。</p>
<p><span style="font-weight:bold;">swtich文を評価しtrueであれば要素を表示、falseであれば非表示です。</span></p>
<p>これで下記のコードがこのswtich付きのtoggle文なら一行ですみます。</p>
<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="k">if</span> <span class="p">(</span><span class="nx">name</span> <span class="o">==</span> <span class="s2">&quot;kinopyo&quot;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;p&quot;</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>
</span><span class='line'><span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;p&quot;</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="p">{</span><span class="o">%</span> <span class="nx">endcodeblock</span> <span class="o">%</span><span class="p">}</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="err">これがこうなります。</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span> <span class="kr">class</span><span class="o">=</span><span class="s2">&quot;brush:javascript&quot;</span><span class="o">&gt;</span>
</span><span class='line'><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;p&quot;</span><span class="p">).</span><span class="nx">toggle</span><span class="p">(</span><span class="nx">name</span> <span class="o">==</span> <span class="s2">&quot;kinopyo&quot;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>
<p>どうですか？すごくないですか？</p>
<p>まさにjQueryの「The Write Less, Do More」ですよね。</p>
<p>ただし判断の条件文が行の最後になるので、</p>
<p>読みやすさは多少落ちると思います。</p>
<br/>
<p>ちなみに、Googleの単語とよく似ているので、ついついtoogleと書いちゃいますorz</p>
</div>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2009-11-27T00:00:00+09:00" pubdate data-updated="true">2009-11-27</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/nil/'>nil</a>


</div>
	
</div></article>


    <article class="post">
	<h1 class="title"><a href="/blog/iphone-bookmarklet-navigate-to-page-bottom">iPhoneでページ最下部へ移動するブックマークレット</a></h1>
	<div class="entry-content">
		<div class="section">
<h4>ブックマークレット(Bookmarklet)とは</h4>
<p>簡単に言うとJavaScriptをブックマークしたものです。</p>
<p>普通はURLをブックマークするに対し、JavaScriptをブックマークします。</p>
<p>そしてこのブックマークを選ぶときは保存されたJavaScriptが実行されます。</p>
<p>iPhoneのブラウザ関連のアプリでは結構使われています。</p>
<h4>最下部へ移動するJavaScriptをiPhoneに登録する方法</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>javascript:&lt;span class="synStatement">window&lt;/span>.scrollTo(0,&lt;span class="synStatement">document&lt;/span>.documentElement.scrollHeight);</span></code></pre></td></tr></table></div></figure>

<ul>
<li>まずSafariで任意のサイトをブックマークする</li>
<li>そのブックマークを編集する</li>
<li>一行名に好きな名前(ここではPage Bottom)を記入し、二行目を上記のJavaScriptを貼付けで保存する</li>
</ul>
<p><a href="http://f.hatena.ne.jp/kinopyo/20091128002653" class="hatena-fotolife" target="_blank"><img src="http://f.hatena.ne.jp/images/fotolife/k/kinopyo/20091128/20091128002653.png" alt="f:id:kinopyo:20091128002653p:image" title="f:id:kinopyo:20091128002653p:image" class="hatena-fotolife"></a></p>
<ul>
<li>ページの最下部へ移動したい時はブックマークからさっき登録したブックマークレットをタップすればOK。</li>
</ul>
<p><a href="http://f.hatena.ne.jp/kinopyo/20091128002655" class="hatena-fotolife" target="_blank"><img src="http://f.hatena.ne.jp/images/fotolife/k/kinopyo/20091128/20091128002655.png" alt="f:id:kinopyo:20091128002655p:image" title="f:id:kinopyo:20091128002655p:image" class="hatena-fotolife"></a></p>
<br/>
<p>参考サイト：</p>
<p><a href="http://css-eblog.com/javascript/scrolltoend-for-iphone.html" target="_blank">http://css-eblog.com/javascript/scrolltoend-for-iphone.html</a></p>
<p><a href="http://d.hatena.ne.jp/keyword/%A5%D6%A5%C3%A5%AF%A5%DE%A1%BC%A5%AF%A5%EC%A5%C3%A5%C8" target="_blank">ブックマークレットとは - はてなキーワード</a></p>
</div>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2009-11-27T00:00:00+09:00" pubdate data-updated="true">2009-11-27</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/nil/'>nil</a>


</div>
	
</div></article>


    <article class="post">
	<h1 class="title"><a href="/blog/it-news-these-days">最近のIT業界動向</a></h1>
	<div class="entry-content">
		<div class="section">

専門家ではないので記事のテーマがちょっとでかすぎるかもしれませんが、

最近気になったニュースをベースにざっと述べようと思います。
<h4>2010年注目の資格、一位が仮想化技術</h4>
これは@ITの記事による結果です。

仮想化といえばVMWareくらいは知ってますけど、

Mac上でWindowsのアプリをたまたま実行する時に使ってました。

「運用コスト削減のためのサーバ統合やクラウドの活用」などのことにどう繋いでいるのか全然イメージできません。。。

少し興味はあるんで、後で勉強しとこう。

関連の資格は以下のようです。
<ul>
    <li>ヴイエムウェアの「VCP」（VMware Certified Professional）</li>
    <li>マイクロソフトの「Hyper-V仮想化検定」「MCP」（Microsoft Certification Program）</li>
    <li>シトリックスの「CCEA」（Citrix XenServerのCitrix Certified Enterprise Administrator）</li>
</ul>
<h4>クラウド</h4>
このキーワードもITユースから頻繁に出てきますが、

どのようにプログラマのキャリアに影響するか、

知りたいですね。
<h4>JDK 7 Milestone 5 build</h4>
Java7のニュースはずっと聞いてたんですが、

なかなか使ってみる時間がないですね。

今日雑誌でちらっと読んだのですが、

モジュール化、多言語の対応などの機能が追加されたそうです。

特にモジュールのサポートは「JAR HELL」(Jarの地獄)から救う有力な機能だそうです。これからクラスパスなど特に気にしなくてモジュール単位になりますと。

またコレクション周りの使い方も強化されましたね。

実は一番気に入ったのがswitch文がやっとString文字列をサポートしたことです。

今までJavaのswtich文があんまり使えないなと何となく感じましたが、

Java7になるとやっと文字列できましたね！
<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">String</span> <span class="n">s</span> <span class="o">=</span> <span class="s">&quot;...&quot;</span><span class="o">;</span>
</span><span class='line'><span class="k">switch</span> <span class="o">(</span><span class="n">s</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'><span class="k">case</span> <span class="s">&quot;quux&quot;</span><span class="o">:</span>
</span><span class='line'>  <span class="n">processQuux</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>
</span><span class='line'>  <span class="c1">// fall-through</span>
</span><span class='line'><span class="k">case</span> <span class="s">&quot;foo&quot;</span><span class="o">:</span>
</span><span class='line'><span class="k">case</span> <span class="s">&quot;bar&quot;</span><span class="o">:</span>
</span><span class='line'>  <span class="n">processFooOrBar</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>
</span><span class='line'>  <span class="k">break</span><span class="o">;</span>
</span><span class='line'><span class="k">case</span> <span class="s">&quot;baz&quot;</span><span class="o">:</span>
</span><span class='line'>  <span class="n">processBaz</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>
</span><span class='line'>  <span class="c1">// fall-through</span>
</span><span class='line'><span class="k">default</span><span class="o">:</span>
</span><span class='line'>  <span class="n">processDefault</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>
</span><span class='line'>  <span class="k">break</span><span class="o">;</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>
<h4>In the end..</h4>
ということでIT業界どんどん進化していきます。

Java7,,,やってみたいっす！

</div>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2009-11-26T00:00:00+09:00" pubdate data-updated="true">2009-11-26</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/diary/'>diary</a>, <a class='category' href='/blog/categories/nil/'>nil</a>


</div>
	
</div></article>


    <article class="post">
	<h1 class="title"><a href="/blog/cto-the-president-of-programmer">CTO：技術者にとっての社長</a></h1>
	<div class="entry-content">
		<div class="section">
<p>@ITよりこんな意味深い記事を読みました。</p>
<p>自分にぴったりだと思うので、一部抜粋して引用させていただきます。</p>
<p><a href="http://jibun.atmarkit.co.jp/ljibun01/rensai/leader/41/01.html" target="_blank">技術者は技術に専念。ただ、ビジネスにも興味は持て － ＠IT自分戦略研究所</a></p>
<h4>所感</h4>
<p>私もビジネスにあまり興味がなく、プログラミングが好きです。そして、決してプログラミングの天才じゃないこともわかってます。そう、天才ではないけど、努力はできる、そのほうが自分に向いてると思います。</p>
<br/>
<p>CTOは格好いい、そして常に論理的に物事を考えそれを行動とコードに移す、一人前の魅力的な人類だと考えています。私は技術に特化していきます。</p>
<blockquote>
<h4>技術者にとっての社長</h4>
<p>わたしは、CTOは「技術者にとっての社長」になるべきではないかと思っています。技術者とは、根本のところではビジネスに興味が持てない生き物だと思っています。わたし自身がそうですから。究極的には、ビジネスがどう、経営的にどうという部分よりも、問題があって、技術的にどう解決するか、という方が好きなんです。でも、社長はそうではいけない。社長はビジネスのことを24時間、考えている。そうなると、技術者は社長に、根本のところで付いていけなくなってしまう。上層部がみんなビジネスのことしか考えていなかったら、技術者は付いてきません。そういう意味で、CTOが「技術者にとっての社長」としての役割を果たすべきなのです。</p>
<h4>特化</h4>
<p>技術者は自分にとって最適な仕事を見つけるべきです。よく、プログラマからシステムエンジニアになって、そのあとプロジェクトマネージャになって……というキャリアパスが示されますが、わたしはそういう考え方は嫌いです。だって、プログラマとプロジェクトマネージャって、全然違う仕事ですよ。プログラマは機械相手、プロジェクトマネージャは人間相手で、そもそも向く方向すら違う。適性だって異なります。向いている方に専念した方がいい。これは私見ですが、プログラマとしての才能がある人がプロジェクトマネージャをやると、「プログラマの才能がマイナスに働く」ことすらあると思います。プロジェクトマネージャは大局からものを見なければいけないのだけれど、プログラマとしての才能にあふれている人は、細かい部分を見てしまいがちです。やはり、どちらかに特化した方がいい。</p>
<p>　「餅は餅屋」です。プログラマなりプロジェクトマネージャなり、自分に向いている部分に特化した方がいい。ましてや、技術者にビジネスセンスを求めるなんて馬鹿げています。</p>
</blockquote>
</div>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2009-11-25T00:00:00+09:00" pubdate data-updated="true">2009-11-25</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/diary/'>diary</a>


</div>
	
</div></article>


    <article class="post">
	<h1 class="title"><a href="/blog/memo-of-flash-json-cross-domain">Flash，JSONでのクロスドメインアクセス勉強メモ</a></h1>
	<div class="entry-content">
		<div class="section">
<p>gihyoサイトの「ここが危ない！Web2.0のセキュリティ」連載の<a href="http://gihyo.jp/dev/serial/01/web20sec/0004" target="_blank">第4回：「Flash，JSONでのクロスドメインアクセス」の</a>勉強メモです。</p>
<h4>Flashのクロスドメインアクセス</h4>
<h5>動作原理</h5>
<p>データ提供側で認証のファイルを設置するだけです。</p>
<p>ファイル名は「crossdomain.xml」で、これが例なのかこう書かなければならないのかは明確に書いてません。</p>
<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;cross-domain-policy&gt;</span>
</span><span class='line'>  <span class="nt">&lt;allow-access-from</span> <span class="na">domain=</span><span class="s">&quot;www.securesky-tech.com&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;/cross-domain-policy&gt;</span>
</span><span class='line'>{% endcodeblock %}
</span><span class='line'><span class="nt">&lt;h4&gt;</span>JSONでも実はクロスドメインアクセスが可能<span class="nt">&lt;/h4&gt;</span>
</span><span class='line'><span class="nt">&lt;h5&gt;</span>動作原理<span class="nt">&lt;/h5&gt;</span>
</span><span class='line'><span class="nt">&lt;p&gt;</span>eval()関数でデータを評価するだけで使用可能になる<span class="nt">&lt;/p&gt;</span>
</span><span class='line'>{% codeblock %}
</span><span class='line'>
</span><span class='line'>var obj = eval(&quot;(&quot;+req.responseText+&quot;)&quot;);
</span><span class='line'>
</span><span class='line'>{% endcodeblock %}
</span><span class='line'><span class="nt">&lt;h5&gt;</span>クロスドメインの実現<span class="nt">&lt;/h5&gt;</span>
</span><span class='line'><span class="nt">&lt;p&gt;</span>setterメソッドをサポートしているブラウザ（FirefoxやSafari 3等）では，setterメソッドを再定義することによって，JSONもSCRIPTタグで呼び出して使うことが可能になる。<span class="nt">&lt;/p&gt;</span>
</span><span class='line'><span class="nt">&lt;pre</span> <span class="na">class=</span><span class="s">&quot;brush:html&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;html&gt;</span>
</span><span class='line'>  <span class="nt">&lt;script&gt;</span>
</span><span class='line'>      Object.prototype.__defineSetter__(&#39;name&#39;, function(x){sendtoAttacker(x);});
</span><span class='line'>  <span class="nt">&lt;/script&gt;</span>
</span><span class='line'>  <span class="nt">&lt;script</span> <span class="na">src=</span><span class="s">&quot;http://www.securesky-tech.com/object.dat&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/script&gt;</span>
</span><span class='line'><span class="nt">&lt;/html&gt;</span>
</span></code></pre></td></tr></table></div></figure>
<p>　</p>
</div>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2009-11-24T00:00:00+09:00" pubdate data-updated="true">2009-11-24</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/nil/'>nil</a>


</div>
	
</div></article>


    <article class="post">
	<h1 class="title"><a href="/blog/install-php5-and-apache2-2-in-windows">PHP5とApache2.2をWindowsにインストール</a></h1>
	<div class="entry-content">
		<div class="section">
<h4>Apache</h4>
<h5>ダウンロード＆インストール</h5>
<ul>
<li><a href="http://httpd.apache.org" target="_blank">Welcome! - The Apache HTTP Server Project</a>から最新版を入手</li>
<li>インストールファイルを実行、下記2点注意すればOK</li>
<li>[Network Domain]と[Server Name]のところはlocalhostと記入</li>
<li>[Custom]インストールでインストール先が指定できる</li>
</ul>
<h5>設定</h5>
<p>[Apache Home]\conf\httpd.confを開いて下記のパスを自分の環境にあわせて</p>
<p>設定してください。このパスはサーバが立ち上がった際のrootとして使います。</p>
<ul>
<li>DocumentRoot &#8220;D:/www&#8221;</li>
<li>&#60;Directory &#8220;D:/www&#8221;&#62;</li>
</ul>
<h4>PHP</h4>
<ul>
<li><a href="http://www.php.net/downloads.php" target="_blank">PHP: Downloads</a>から入手
<ul>
<li>Windows BinariesからPHP 5.2.11 zip packageをダウンロード</li>
</ul>
</li>
</ul>
<p>拡張子がMSIのinstaller版もあるが、マニュアルでのインストールがすすめられる</p>
<ul>
<li>zipファイルを適当な場所に解凍。今回はd:\phpに。</li>
<li>Windowsの環境変数pathに設定</li>
<li>コマンドプロンプトで下記コマンドでインストール成功かを確認</li>
</ul>
<blockquote>
<p>php -v</p>
</blockquote>
<h4>php.ini</h4>
<ul>
<li>php.ini-recommendedをphp.iniにリネーム</li>
<li>doc_rootを検索し内容を編集</li>
</ul>
<blockquote>
<p>doc_root = d:\www</p>
</blockquote>
<p>Apacheサーバと同じルート(httpd.confの DocumentRoot)</p>
<h4>ApacheサーバとPHPの連携</h4>
<p>httpd.confの修正</p>
<blockquote>
<p>LoadModule php5_module d:/php/php5apache2_2.dll</p>
<p>AddType application/x-httpd-php .php</p>
<p>PHPIniDir &#8220;d:/php&#8221;</p>
</blockquote>
<p>ディレクトリは自分の環境に合わせて修正してください。</p>
<br/>
<h4>動作確認</h4>
<p>d:/phpにtest.phpというファイルを作ります。内容は下記になります。</p>
<p><?php phpinfo();?></p>
<p>注意！！<? phpinfo();?>は動かない！</p>
<p>Apacheサーバを再起動し、<a href="http://localhost/test.php" target="_blank">http://localhost/test.php</a>を叩いてPHPのページが表示されればOKです。</p>
<h4>参考サイト</h4>
<p><a href="http://blog.cheki.net/archives/250" target="_blank">  Apache2 + PHP5をWindowsXPにインストール</a></p>
<p><a href="http://www.adminweb.jp/apache/php/index3.html" target="_blank">php.iniの配置場所の指定(PHPIniDir) - PHP利用のための設定 - Apache入門</a></p>
</div>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2009-11-24T00:00:00+09:00" pubdate data-updated="true">2009-11-24</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/nil/'>nil</a>


</div>
	
</div></article>


    <article class="post">
	<h1 class="title"><a href="/blog/css-issue-in-ie8-background-color">IE8でbackground-colorが白とその値がnullとの表示が微妙に違う</a></h1>
	<div class="entry-content">
		<div class="section">
<h4>現象</h4>
<p><a href="http://f.hatena.ne.jp/kinopyo/20091124235949" class="hatena-fotolife" target="_blank"><img src="http://f.hatena.ne.jp/images/fotolife/k/kinopyo/20091124/20091124235949.jpg" alt="f:id:kinopyo:20091124235949j:image" title="f:id:kinopyo:20091124235949j:image" class="hatena-fotolife"></a></p>
<p>まず画像を見てみましょう。</p>
<p>最初の二つ白い背景のエリアに注目してください。</p>
<p>一番目は背景色を白い色(#FFFFFF)に設定したもので、</p>
<p>二番目が背景色をnullに設定したものです。</p>
<p>白い色に明確に設定したほうのborderの左と上の表示が少し違ってます。</p>
<br/>
<p>またIE8の開発ツール(F12で呼ばれる、Firebugと似たデバッグツール)で見ても</p>
<p>background-colorが#ffffffになってる以外に、何の余計なスタイルもありませんでした。</p>
<p>なのでやはりbackground-colorが指定してないものと#ffffffに指定したものには差異が存在してます。</p>
<br/>
<h4>サンプルコード</h4>
{% codeblock %}

<span class="synIdentifier">&#60;</span><span class="synStatement">div</span><span class="synIdentifier">&#62;</span>
<span class="synIdentifier">&#60;</span><span class="synStatement">input</span><span class="synIdentifier"> </span><span class="synType">id</span><span class="synIdentifier">=</span><span class="synConstant">&#34;foo&#34;</span><span class="synIdentifier"> </span><span class="synType">type</span><span class="synIdentifier">=</span><span class="synConstant">&#34;text&#34;</span><span class="synIdentifier"> /&#62;</span>
<span class="synIdentifier">&#60;</span><span class="synStatement">input</span><span class="synIdentifier"> </span><span class="synType">id</span><span class="synIdentifier">=</span><span class="synConstant">&#34;bar&#34;</span><span class="synIdentifier"> </span><span class="synType">type</span><span class="synIdentifier">=</span><span class="synConstant">&#34;text&#34;</span><span class="synIdentifier"> /&#62;</span>
<span class="synIdentifier">&#60;/</span><span class="synStatement">div</span><span class="synIdentifier">&#62;</span>
<span class="synIdentifier">&#60;</span><span class="synStatement">div</span><span class="synIdentifier">&#62;</span>
<span class="synIdentifier">&#60;</span><span class="synStatement">input</span><span class="synIdentifier"> </span><span class="synType">id</span><span class="synIdentifier">=</span><span class="synConstant">&#34;hoge&#34;</span><span class="synIdentifier"> </span><span class="synType">class</span><span class="synIdentifier">=</span><span class="synConstant">&#34;gray&#34;</span><span class="synIdentifier"> </span><span class="synType">type</span><span class="synIdentifier">=</span><span class="synConstant">&#34;text&#34;</span><span class="synIdentifier"> /&#62;</span>
<span class="synIdentifier">&#60;</span><span class="synStatement">input</span><span class="synIdentifier"> </span><span class="synType">class</span><span class="synIdentifier">=</span><span class="synConstant">&#34;gray&#34;</span><span class="synIdentifier"> </span><span class="synType">type</span><span class="synIdentifier">=</span><span class="synConstant">&#34;text&#34;</span><span class="synIdentifier"> /&#62;</span>
<span class="synIdentifier">&#60;/</span><span class="synStatement">div</span><span class="synIdentifier">&#62;</span>
{% endcodeblock %}
<pre class="syntax-highlight">
$(<span class="synStatement">document</span>).ready(<span class="synIdentifier">function</span>()<span class="synIdentifier">{</span>
　　<span class="synComment">// 元の背景色を保持</span>
<span class="synIdentifier">var</span> original = $(<span class="synConstant">&#34;#foo&#34;</span>).css(<span class="synConstant">&#34;background-color&#34;</span>);
<span class="synStatement">alert</span>(original);  <span class="synComment">// output is &#34;ffffff&#34;</span>
　　<span class="synComment">// 元の背景色を再設定、値は同じはず</span>
$(<span class="synConstant">&#34;#foo&#34;</span>).css(<span class="synConstant">&#34;background-color&#34;</span>,original);
<span class="synComment">// 他の背景色はこんな現象がないみたい</span>
<span class="synComment">// あるとしても発見しづらい    </span>
　　<span class="synIdentifier">var</span> hogeColor = $(<span class="synConstant">&#34;#hoge&#34;</span>).css(<span class="synConstant">&#34;background-color&#34;</span>);
<span class="synStatement">alert</span>(hogeColor); <span class="synComment">// output is &#34;gray&#34;</span>
$(<span class="synConstant">&#34;#hoge&#34;</span>).css(<span class="synConstant">&#34;background-color&#34;</span>,hogeColor);
<span class="synIdentifier">}</span>);

{% endcodeblock %}
<br/>
<br/>
<p>　</p>
</div>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2009-11-24T00:00:00+09:00" pubdate data-updated="true">2009-11-24</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/nil/'>nil</a>


</div>
	
</div></article>


    <article class="post">
	<h1 class="title"><a href="/blog/memo-of-same-origin-policy">Same-Originポリシー勉強メモ</a></h1>
	<div class="entry-content">
		<div class="section">
<p>gihyoサイトの「ここが危ない！Web2.0のセキュリティ」連載の第2回：<a href="http://gihyo.jp/dev/serial/01/web20sec/0002" target="_blank">「Same-Originポリシーと迂回技術」</a>の勉強メモです。</p>
<h4>定義</h4>
<p>他のドメインのサイトへはリクエストを送信できない制限のことをSame-Originポリシーと呼びます。同じドメインであってもポート番号やプロトコル（HTTPとHTTPSなど）が異なれば，異なるサイト（クロスドメイン）とみなされアクセスできません。クロスドメインアクセスは機能として実装されていないのではなく，セキュリティ上の理由から禁止されているそうです。</p>
<h4>必要性</h4>
<p><img alt="" src="http://image.gihyo.co.jp/assets/images/dev/serial/01/web20sec/0002/thumb/TH400_fig02.png"></p>
<p>俺があの黒の攻撃者とし、攻撃目標がユーザのメールアカウント情報だとします。もしクロスドメインにアクセスする制限がなければ、事前に用意したスクリプトで(urlをメールサーバに設定)メールアカウントの情報が取得できるようになってしまいます。(この辺りはCookieの話が出てきます)</p>
<h4>ウェブの基本ルール</h4>
<p>Ajaxだけではなく、フレームやサブウインドウの情報にアクセスする場合などにも存在する</p>
<h4>クロスドメインでデータを取得する方法</h4>
<p>    * リバースPorxy</p>
<p>    * SCRIPTタグ（JSONP）</p>
<p>    * Flash</p>
<p>    * 画像</p>
<p>    * スタイルシート</p>
<h4>リバースProxy</h4>
<p><img alt="" src="http://image.gihyo.co.jp/assets/images/dev/serial/01/web20sec/0002/thumb/TH400_fig03.png"></p>
<p>データ提供サーバにとってユーザの身元は隠れているため、攻撃者に利用しやすい</p>
<p>ユーザの身元を確認しようとすると、ユーザ情報を扱わなければならない</p>
<p>ユーザ情報&#8211;&#62;サーバ&#8211;&#62;データ提供サーバ</p>
<p>　</p>
</div>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2009-11-23T00:00:00+09:00" pubdate data-updated="true">2009-11-23</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/nil/'>nil</a>, <a class='category' href='/blog/categories/webservice/'>webservice</a>


</div>
	
</div></article>

<nav id="pagenavi">
    
        <a href="/blog/page/27/" class="prev">Prev</a>
    
    
        <a href="/blog/page/29/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2012

    Qihuan Piao

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'kinopyoblog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-33226278-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>